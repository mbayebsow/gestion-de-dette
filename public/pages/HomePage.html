<div class="mb-2 w-full flex flex-row justify-between items-center h-[70px]">
    <div class="">
        <p class="m-[0] text-2xl font-black font-inherit flex items-center" x-text="'SOLDE TOTAL: '+priceFormat(soldeTotal)"></p>
        <p class="m-[0] text-base" x-text="getCompteData('AllNames')"></p>
    </div>
    <div class="flex flex-row gap-2">
        <button x-show="comptes.length" x-on:click="modalAddTransaction = true" class="cursor-pointer [border:none] p-[0] rounded-lg bg-green w-auto h-9 flex flex-row items-center justify-between px-5">
            <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="white" viewBox="0 0 24 24"><path d="M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"/></svg>
            <b class="text-lg font-inter text-white text-left">Ajouter une transaction</b>
        </button>
        <button x-on:click="modalAddCompte = true" class="cursor-pointer [border:none] p-[0] rounded-lg bg-orange-100 w-auto h-9 flex flex-row items-center justify-between px-5">
            <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="white" viewBox="0 0 24 24"><path d="M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"/></svg>
            <b class="text-lg font-inter text-white text-center">Ajouter un compte</b>
        </button>
    </div>
</div>

<div class="mb-2 flex overflow-x-auto items-center gap-3 w-full h-[210px] rounded-lg text-base text-white overflow-hidden rounded-xl">
    <template x-for="compte in comptes" :key="compte._id">
        <div :style="`background: linear-gradient(130deg, rgba(0,0,0,1) 60%, ${compte.Couleur} 120%);`" class="relative flex-shrink-0 p-3 rounded-xl bg-black w-60 flex flex-col justify-between gap-2 overflow-hidden">
            <div class="h-auto">
                <div class="text-xl font-black" x-text="priceFormat(compte.Solde)"></div>
                <div class="" x-text="moment(compte.DernierMaj).format('dddd Do MMM YYYY')"></div>
            </div>
            <div class="w-full text-xl flex flex-row justify-between items-center">
                <div :style="`color: ${compte.Couleur};`" class="font-medium" x-text="compte.Nom"></div>
                <div :style="`background: ${compte.Couleur};`" role="button" x-on:click="deleteCompte(compte)" class="w-7 h-7 rounded-full justify-center items-center flex"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24"><path d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"/></svg></div>
            </div>
        </div>
    </template>
</div>

<div class="w-full h-full text-xl flex flex-row justify-between gap-3 overflow-hidden">
    <div class="h-full w-2/4 rounded-lg bg-white flex flex-col gap-2 overflow-hidden"">
        <div class="font-semibold border-b-black h-[20px] p-3 pt-5 flex flex-grow items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"><path d="M12 3l12 18h-24z"/></svg>
            Somme dues
        </div>
        <div class="w-auto h-full overflow-y-auto px-3">
            <template x-for="Due in dues" :key="Due._id">
                <div class="w-auto shadow rounded-md mb-2 p-2">
                    <div class="flex flex-row justify-between items-center gap-2">
                        <div class="text-left w-full">
                            <div class="" x-text="Due.Motif"></div>
                            <div class="font-bold" x-text="priceFormat(Due.Montant)"></div>
                        </div>
                        <div class="flex flex-row gap-4 items-center">
                            <div class="">
                                <svg x-show="Due.DueType == 'sortant'" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="red" viewBox="0 0 24 24"><path d="M12 3l12 18h-24z"/></svg>
                                <svg x-show="Due.DueType == 'entrant'" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="SpringGreen" viewBox="0 0 24 24"><path d="M12 21l-12-18h24z"/></svg>
                            </div>
                            <div class="w-auto">
                                <svg x-show="Due.Rappel == false" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M4.257 6.67l-.737-.737 1.415-1.414 15.693 15.693-1.414 1.414-.812-.811c-1.577 1.316-3.695 2.185-6.403 2.185-6.914 0-10.001-5.684-10.001-10 0-2.402.847-4.606 2.259-6.33zm1.425 1.425c-1.055 1.355-1.684 3.058-1.684 4.905 0 4.41 3.59 8 8.001 8 1.847 0 3.549-.629 4.905-1.683l-11.222-11.222zm1.233-3.709c1.489-.881 3.228-1.387 5.084-1.387 5.527 0 10.002 4.479 10.002 10.001 0 1.632-.441 3.463-1.366 5.107l-1.497-1.497c.552-1.085.863-2.312.863-3.61 0-4.413-3.59-8.001-8.002-8.001-1.298 0-2.525.311-3.61.862l-1.474-1.475zm-6.113 4.329c-.535-.824-.802-1.772-.802-2.718 0-2.757 2.233-4.995 4.991-4.995.948 0 1.896.268 2.721.803-3.172 1.217-5.692 3.739-6.91 6.91zm18.201-7.715c-.947 0-1.895.268-2.719.803 3.17 1.218 5.694 3.739 6.914 6.909.534-.823.801-1.77.801-2.717 0-2.761-2.236-4.995-4.996-4.995z"/></svg>
                                <svg x-show="Due.Rappel == true"width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M19.004 1c-.947 0-1.895.268-2.719.803 3.17 1.218 5.694 3.739 6.914 6.909.534-.823.801-1.77.801-2.717 0-2.761-2.236-4.995-4.996-4.995m-7.004 20c-4.411 0-8.001-3.59-8.001-8 0-4.413 3.59-8.001 8.001-8.001 4.412 0 8.002 3.588 8.002 8.001 0 4.41-3.59 8-8.002 8m10.002-8c0-5.522-4.475-10.001-10.002-10.001-5.523 0-10.001 4.479-10.001 10.001 0 4.316 3.087 10 10.001 10 6.93 0 10.002-5.693 10.002-10m-21.199-4.285c-.535-.824-.802-1.772-.802-2.718 0-2.757 2.233-4.995 4.991-4.995.948 0 1.896.268 2.721.803-3.172 1.217-5.692 3.739-6.91 6.91m12.196 4.285v-5h-1.999v6.998h5.999v-1.998h-4z"/></svg>
                            </div>
                            <div class="w-auto">
                                <svg x-show="Due.Montant != CheckPaiement(Due._id)" width="27" height="27" fill="orange" clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12.002 2.005c5.518 0 9.998 4.48 9.998 9.997 0 5.518-4.48 9.998-9.998 9.998-5.517 0-9.997-4.48-9.997-9.998 0-5.517 4.48-9.997 9.997-9.997zm0 1.5c-4.69 0-8.497 3.807-8.497 8.497s3.807 8.498 8.497 8.498 8.498-3.808 8.498-8.498-3.808-8.497-8.498-8.497zm0 7.425 2.717-2.718c.146-.146.339-.219.531-.219.404 0 .75.325.75.75 0 .193-.073.384-.219.531l-2.717 2.717 2.727 2.728c.147.147.22.339.22.531 0 .427-.349.75-.75.75-.192 0-.384-.073-.53-.219l-2.729-2.728-2.728 2.728c-.146.146-.338.219-.53.219-.401 0-.751-.323-.751-.75 0-.192.073-.384.22-.531l2.728-2.728-2.722-2.722c-.146-.147-.219-.338-.219-.531 0-.425.346-.749.75-.749.192 0 .385.073.531.219z" fill-rule="nonzero"/></svg>
                                <svg x-show="Due.Montant == CheckPaiement(Due._id)" width="24" height="24" fill="SpringGreen" clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m11.998 2.005c5.517 0 9.997 4.48 9.997 9.997 0 5.518-4.48 9.998-9.997 9.998-5.518 0-9.998-4.48-9.998-9.998 0-5.517 4.48-9.997 9.998-9.997zm0 1.5c-4.69 0-8.498 3.807-8.498 8.497s3.808 8.498 8.498 8.498 8.497-3.808 8.497-8.498-3.807-8.497-8.497-8.497zm-5.049 8.886 3.851 3.43c.142.128.321.19.499.19.202 0 .405-.081.552-.242l5.953-6.509c.131-.143.196-.323.196-.502 0-.41-.331-.747-.748-.747-.204 0-.405.082-.554.243l-5.453 5.962-3.298-2.938c-.144-.127-.321-.19-.499-.19-.415 0-.748.335-.748.746 0 .205.084.409.249.557z" fill-rule="nonzero"/></svg>
                            </div>
                        </div>
                        <div class="h-full w-40 text-right">
                            <div role="button" x-on:click="modalAddDuePaiment = Due">
                                <svg height="27" clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12 16.495c1.242 0 2.25 1.008 2.25 2.25s-1.008 2.25-2.25 2.25-2.25-1.008-2.25-2.25 1.008-2.25 2.25-2.25zm0-6.75c1.242 0 2.25 1.008 2.25 2.25s-1.008 2.25-2.25 2.25-2.25-1.008-2.25-2.25 1.008-2.25 2.25-2.25zm0-6.75c1.242 0 2.25 1.008 2.25 2.25s-1.008 2.25-2.25 2.25-2.25-1.008-2.25-2.25 1.008-2.25 2.25-2.25z"/></svg>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-row gap-2 text-[10px]">
                        <template x-if="Due.Personne">
                            <div x-text="getPersonneData('getData', Due.Personne).Nom"></div>
                        </template>
                        <div>â€¢</div>
                        <div>
                            Paiement effectuer : <span class="font-bold mr-5" x-text="priceFormat(CheckPaiement(Due._id))"></span>
                            Restant : <span class="font-bold" x-text="priceFormat(Due.Montant - CheckPaiement(Due._id))"></span>
                        </div>
                    </div>
                </div>
            </template>
        </div>
    </div>
    <div class="h-full w-1/4 rounded-lg bg-white flex flex-col gap-2 overflow-hidden"">
        <div class="font-semibold border-b-black h-[20px] p-3 pt-5 flex flex-grow items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="15" fill="SpringGreen" height="15" viewBox="0 0 24 24"><path d="M12 21l-12-18h24z"/></svg>
            Recettes
        </div>
        <div class="w-auto h-full overflow-y-auto px-3">
            <template x-for="recette in transactionsFiltre('Recette')" :key="recette._id">
                <div class="w-auto shadow rounded-md mb-2 p-2">
                    <div class="flex flex-row justify-between mb-2">
                        <div class="w-1/2 font-bold" x-text="recette.Motif"></div>
                        <div class="w-full text-right" x-text="priceFormat(recette.Montant)"></div>
                    </div>
                    <div class="flex flex-row text-[10px] justify-between">
                        <div class="text-left pb-1" x-text="getCompteData('getData', recette.Compte).Nom" :style="`border-bottom: 1px solid ${getCompteData('getData', recette.Compte).Couleur};`"></div>
                        <div class="text-right" x-text="moment(recette.Date).format('ddd Do MMM YYYY')"></div>
                    </div>
                </div>
            </template>
        </div>
    </div>
    <div class="h-full w-1/4 rounded-lg bg-white flex flex-col gap-2 overflow-hidden"">
        <div class="font-semibold border-b-black h-[20px] p-3 pt-5 flex flex-grow items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="red" viewBox="0 0 24 24"><path d="M12 3l12 18h-24z"/></svg>
            Depenses
        </div>
        <div class="w-auto h-full overflow-y-auto px-3">
            <template x-for="Depense in transactionsFiltre('Depense')" :key="Depense._id">
                <div class="w-auto shadow rounded-md mb-2 p-2">
                    <div class="flex flex-row justify-between mb-2">
                        <div class="w-1/2 font-bold" x-text="Depense.Motif"></div>
                        <div class="w-full text-right" x-text="priceFormat(Depense.Montant)"></div>
                    </div>
                    <div class="flex flex-row text-[10px] justify-between">
                        <div class="text-left pb-1" x-text="getCompteData('getData', Depense.Compte).Nom" :style="`border-bottom: 1px solid ${getCompteData('getData', Depense.Compte).Couleur};`"></div>
                        <div class="text-right" x-text="moment(Depense.Date).format('ddd Do MMM YYYY')"></div>
                    </div>
                </div>
            </template>
        </div>
    </div>
</div>